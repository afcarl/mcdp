<!DOCTYPE html>
<html lang="en">
<head>
    <title>PyMCDP Interactive Environment</title>
    {% include 'head.jinja2' %}
    <style type='text/css'>
    	body { font-family: Georgia; }
        /* logo */
        #diagram { width: 10em; margin: 2em; }
        body { padding-left: 6em; }

        h3 { margin: 10px; }

        #buttons { visibility: hidden; }
        #buttons button  {
            /*font-size: 80%;*/
            padding: 10px;
            margin-left: 2em;
            margin-bottom: 4em;
        } /* button */

        #buttons .ui-button { padding: 3px !important; }

    </style>
</head>
<body>
{% include 'user.jinja2' %}
{% include 'prompt.jinja2' %}

<script type='text/javascript'>
    function create_library() {
        url_base = '{{root}}/libraries/new/';
        prompt_user("library", url_base, prompt="Create new library");
    }
    $(document).ready(function() {
        $("#create_library").button().click(create_library);
        $("#refresh").button();
        $("#buttons").css('visibility', 'visible');
       // $("#create_library").disable();
    });

</script>

<table><tr>
<td>
<img id='diagram' src='{{root}}/static/diagram_blank.png'/>
</td>
<td><br/>
    <h2>PyMCDP <br/>
        Interactive <br/>
        <span style='color:darkred;'>Co</span>-<span style='color:darkgreen'>Design</span><br/>
        Environment</h2>
        <p style='font-family: monospace'>v{{version()}}</p>
</td>
</tr></table>

<div id='actions'>

<div style='display:none'>
<h3>Learn</h3>

<ul>
<li><a href="http://mcdp.mit.edu/papers/">Papers and presentations</a></li>
<li><a href="{{root}}/static/manual.html">The PyMCDP Manual</a></li>
</ul>


<h3>Help</h3>

<ul>
<li>
    Please file bug reports at the
        <a href="https://github.com/AndreaCensi/mcdp/issues">
            Github website</a></li>
</ul>
</div>


<style>
.library_list {
    /*column-count: 3;*/
    column-width: 14em;
}
.library_list .sup {
     display: block;
    /*padding-left: 2em; */
    font-style: italic;
}
.library_list .library span {
    padding-left: 1em;
}
</style>

<script>
	function click_show_available() {
		$('#available').show();
		$('button#show-available').hide();
	}
	function init_index() { 
		$('button#show-available').button().click(click_show_available);
	}
	$(document).ready(init_index);
</script>

<p><button id='show-available'>Show available libraries</button></p>

<div id='available' style='display:none'>
	<h3>Available libraries</h3>
	
	<div class="library_list">
	{% for sup, sup_libraries in navigation['libraries_indexed'] %}
	    <div class='sup'>{{sup}}</div>
	    {% for li in sup_libraries %}
	    <!-- <option name='{{li['name']}}' value="{{li['url']}}" {% if li['current'] %} selected = 1 {% endif %}> -->
	        <!-- note the span has no effect inside option -->
	        <div class='library'><a href="{{li['url']}}"><code>ðŸ“–<span>{{li['name']}}</span></code></a></div>
	    <!-- </option> -->
	    {% endfor %}
	{% endfor %}
	</div>
	
	<div id='buttons'>
		<p><a id='create_library'>Create a new library</a></p>
		<p><a id='refresh' href='{{root}}/refresh'>Refresh list of libraries</a></p>
	</div>
</div>
<!--
<p>
	Some interesting starting points:
		<a href="{{root}}/libraries/droneD_complete_v2/">the drone example</a>,
	 	<a href="{{root}}/libraries/plugs/">the plugs domain</a>.
</p>
 -->


</div>

<!--
<p>Shortcuts:</p>
<ul>
	<li>Alt+R: refresh library (re-loads all cached files)</li>
	<li>In Editor view: CMD+S: saves</li>
</ul>
<ul>
<li><a href="/docs/TODO/">TODO</a></li>
</ul>
-->

{% include 'footer.jinja2' %}
</body>
</html>
