<style type='text/css'>
div.navigation {font-size: smaller; }
div.navigation span.additional {margin-left: 2em; }

div.library, div.this_model { 
	display: inline; 
	margin: 5px;
	padding: 5px;
	background-color: #eee;
}

div.library span, div.this_model span { font-weight: bold; }

</style>

<div class="navigation">

	<div class="library">
	


  <script type="text/javascript">
  window.showPrompt = function() {
    do {
        var name=prompt("Please enter the name for the new model:");
    }
    while(name.length < 4);
    
    url = "../../../../new_model/" + name
    
    var win = window.open(url, '_blank');
	if (win) {
	    //Browser has allowed it to be opened
	    win.focus();
	} else {
	    //Browser has blocked it
	    alert('Please allow popups for this website');
	}
    
  }
  </script>
  
  <span class='libraries'>
  <span>Libraries:</span>
  <select class='hot_select'>
    {% for li in navigation['libraries'] %}
    <option value="{{li['url']}}"    
	    {% if li['current'] %}
	    selected = 1
	    {% endif %}
    >
    	{{li['name']}}
    </option>
    {% endfor %}
    
    <!-- Also add the same but with hidden links -->
	{% for li in navigation['libraries'] %}
        <a style='display:none' href="{{li['url']}}""></a>
    {% endfor %}
  </select>
  </span>
  
  <span class='models'>
  <span>Models:</span>
  <select class='hot_select'>
    {% for mi in navigation['models'] %}
    <option value="{{mi['url']}}"    
	    {% if mi['current'] %}
	    selected = 1
	    {% endif %}
    >
    	{{mi['name']}}
    </option>
    {% endfor %}
    
    <!-- Also add the same but with hidden links -->
	{% for mi in navigation['models'] %}
        <a style='display:none' href="{{mi['url']}}""></a>
    {% endfor %}
  </select>
  </span>
  
  <form style='display:inline' method="GET" action="/libraries/{{navigation['current_library']}}/refresh_library">
	    <input type="submit" value="&#8634;"/>
  </form>
   <button onclick="showPrompt();">+</button>
  
  <form style='display:inline' method="GET" action="/qr_reader">
	    <input type="submit" value="QR+"/>
  </form>
 
  
  </div>
  
  <div class="this_model">
	 <span class='view'>
	  

  <span>Views:</span>
  <select class='hot_select'>
    {% for vi in navigation['views'] %}
    <option value="{{vi['url']}}"    
	    {% if vi['current'] %}
	    selected = 1
	    {% endif %}
    >
    	{{vi['name']}}
    </option>
    {% endfor %}
    
    <!-- Also add the same but with hidden links -->
	{% for vi in navigation['views'] %}
        <a style='display:none' href="{{vi['url']}}""></a>
    {% endfor %}
  </select>
  </span>
	  
	  </span>
	 
	 <!-- todo: if explorer... -->  
    <!--<form style='display:inline' method="GET" action="../edit/">
	    <input type="submit" value="Edit (basic)"/>
	 </form>-->
	 
     <form style='display:inline' method="GET" action="../edit_fancy/">
	    <input type="submit" value="Edit"/>
	 </form>
  
  	<form style='display:inline' method="GET" action="../solver/">
	    <input type="submit" value="Solve"/>
	 </form>
  
  </div>
  
<script type = "text/javascript">
 $('.hot_select').change(function() {
  window.location = $(this).val();
});
</script>

	<span class='additional'>
	<a href="{{request.url}}" target="_blank">open a copy</a>

	</span>
	
</div>