% \input{tex/thanks.tex}

\usepackage{substr}


% \usepackage{hyperref}

% % \usepackage{xr}
% % \usepackage{zref}
% \usepackage{zref-xr}
% \zxrsetup{toltxlabel=true}
% % \zxrsetup{urluse=true}
% \zxrsetup{verbose=true}
% % \usepackage{xr-hyper}
% \IfSubStringInString{\detokenize{gmcdp-a}}{\jobname}{
%     \zexternaldocument{gmcdp-b-IEEEconf}[http://google.com/gmcdp-b-IEEEconf.pdf]
% }{}
% \IfSubStringInString{\detokenize{gmcdp-b}}{\jobname}{
%     \zexternaldocument{gmcdp-a-IEEEconf}[http://google.com/gmcdp-a-IEEEconf.pdf]
% }{}





% % add [table] to allow \r
\usepackage[table]{xcolor}
\input{commons/tex/macros/fancy_table_colors.tex}

% \usepackage{fixltx2e}
\usepackage{xspace}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage[mathscr]{eucal}

% Redefine theorem styles to remove italic from proposition
\input{./commons/tex/macros/theorems_no_italic.tex}



% \usepackage[tracking=true,kerning=true,spacing=true,factor=1000,stretch=20,shrink=20]{microtype}
\usepackage[tracking=true,kerning=true,spacing=true,factor=1000,stretch=15,shrink=20]{microtype}
\SetTracking{encoding={*}, shape=sc}{0}


\input{./commons/tex/macros/fonts_ieeetran_xelatex.tex}
% \input{./commons/tex/macros/microtype}
% \input{./commons/tex/macros/stylish_hyperref_colors.tex}

% \input{./commons/tex/macros/refstyle_ieee.tex}
\input{./commons/tex/macros/refstyle_ieee_abbreviated.tex}

% \input{./commons/tex/macros/compact_lists.tex}
% \setlist{noitemsep}
% \setlist[itemize]{labelindent=0pt,leftmargin=5pt,labelsep=5pt,listparindent=0pt} % < Usually a good idea

% leftmargin
% – rightmargin
% – listparindent – labelwidth
% – labelsep
% – itemindent

% REMOVED FOR ARXIV
% \usepackage{enumitem}
% \setlist[itemize]{leftmargin=0pt,itemindent=1em}
% \setlist[enumerate]{leftmargin=3pt,itemindent=1em}


 % \usepackage{fontspec}
 % \newfontfeature{Microtype}{protrusion=default;expansion=default;}


% \setlist[itemize,1]{label=$\triangleleft$}


% \setlist[enumerate]{labelsep=*, leftmargin=1.5pc}
% \setlist[enumerate,1]{label=\arabic*., ref=\arabic*}
% \setlist[enumerate,2]{label=\emph{\alph*}),
%                       ref=\theenumi.\emph{\alph*}}
% \setlist[enumerate,3]{label=\roman*), ref=\theenumii.\roman*}
% \setlist[description]{font=\sffamily\bfseries}


% \input{./commons/tex/macros/pagebreak_at_section.tex}
% \input{./commons/tex/macros/colbreak_at_section.tex}


\input{./commons/tex/xetex_symbols_fix}

\definecolor{symbol-highlight}{rgb}{0,0.6,0}
% \def\M{}
% \def\T{}
% \input{./commons/tex/all_symbols_highlight.tex}
% \usepackage{mathptmx}
\input{./commons/tex/live_symbols.tex}

% Two column content - \begin{strip} two column content %
\usepackage{mathtools, cuted}



\usepackage[caption=false,font=footnotesize]{subfig}
\captionsetup[subtable]{font={rm,md,sc,footnotesize},position=top}

\input{./commons/tex/macros/small_caption_spacing.tex}
%
% \input{commons/tex/macros/current_filename_in_header.tex}
% \input{./commons/tex/macros/draft_figures.tex}



% \usepackage{wrapfig}

% % \input{commons/tex/macros/compact_lists.tex}
% \input{commons/tex/macros/useful_boxes.tex}

% \input{commons/tex/macros/fancy_table_colors.tex}
% \newcommand{\hangTable}{\tableColors\small\vspace{3mm}}



% % fix babel + ieeetran problem: http://tex.stackexchange.com/questions/88861/language-problems-with-biblatex-and-babel
\let\l@ENGLISH\l@english

% % \usepackage{showkeys}

% % \input{commons/tex/macros/fix_subsubcounter.tex}
%  % on page \pageref{#1}} 10 \newrefformat{fig}{Figure \ref{#1} on page \pageref{#1}}


% TODO: check that it has been loaded before
\usepackage{hyperref}

% \input{tex/preamble_bib.tex}


% \input{./commons/tex/macros/stylish_hyperref_colors.tex}
% \input{./commons/tex/macros/pagebreak_at_section.tex}
% % % \input{./commons/tex/macros/draft_figures.tex}
% % \input{./commons/tex/macros/last_resort.tex}
\renewcommand{\baselinestretch}{0.995}
% \renewcommand{\baselinestretch}{0.955}
% % \renewcommand{\baselinestretch}{0.94}
% % % \input{./commons/tex/macros/loose_layout.tex}


% %% Graphics

% \usepackage{graphicx}





% % \input{./12-censi-thesis-bv/tex/preamble_drafttools.tex}
% \newcommand{\todo}[1]{\textbf{\color{red}TODO: #1}\xspace}
% % \renewcommand{\todo}[1]{}


\newcommand{\todo}[1]{{ (\color{red} #1})}

\newcommand{\theoremheaderfont}{\scshape}

\usepackage{wrapfig}
%
% \newcommand{\figright}[4]{% 1= content 2 = lines 3 = width 4 = label
% % \vspace{-5mm}%
% \leavevmode%
% \setlength\intextsep{0pt}%
%     \begin{wrapfigure}[#2]{r}{#3}%
%         \resizebox{#3}{!}{#1}%
%         \caption{#4}
%     \end{wrapfigure}\noindent%
% }

\newcommand{\figright}[4]{% 1= content 2 = lines 3 = width 4 = label
% \vspace{-5mm}%
\vspace*{-2\baselineskip}%
\leavevmode%
\setlength\intextsep{0pt}%
    \begin{wrapfigure}[#2]{r}[0pt]{#3}%
        \vspace*{+1\baselineskip}%
        #1%
        % \fbox{\protect\resizebox{#3}{!}{#1}}%
        % \fbox{#1}%
        \protect\caption{#4}%
    \end{wrapfigure}\noindent%
}

% a version without spacing
\newcommand{\figrightb}[4]{% 1= content 2 = lines 3 = width 4 = label
% \vspace{-5mm}%
%
% \setlength\intextsep{0pt}%
    \begin{wrapfigure}{l}{#3}%
        #1%
        % \fbox{\protect\resizebox{#3}{!}{#1}}%
        % \fbox{#1}%
        % \protect\caption{#4}%
    \end{wrapfigure}%\noindent
}

% \input{commons/tex/macros/shade_environments.tex}


\newtheorem{assumption}{Assumption}
\newref{ass}{refcmd={Assumption~\ref{#1}}}




% \let\oldcolon\colon
% \def\colon{{\color{red}\oldcolon}}

% \renewcommand{\highA}[1]{#1}
\renewcommand{\resleq}{\posleq_{\ressp}}
% \usepackage{refcheck}

\input{commons/tex/macros/caption_side.tex}

% \input{tex/preamble_mcdp_lang.tex}

\input{commons/tex/macros/useful_boxes.tex}


% \usepackage{currfile}
% \usepackage{fancyhdr}
% \pagestyle{fancy}

% \setlength{\headheight}{20.2pt}
% \pagestyle{fancy}
% \renewcommand{\headrulewidth}{0pt} % no line in header area

% \fancyhead[L]{A Mathematical Theory of Co-Design - v0.9 - \url{purl.org/censi/MTCD}}
% \pagestyle{fancy}
% \fancypagestyle{firststyle}
% {
%    \fancyhf{}
%    \fancyfoot[C]{\footnotesize Page \thepage\ of \pageref{LastPage}}
% }

% \def\ps@IEEEtitlepagestyle{%
%   \def\@oddfoot{A Mathematical Theory of Co-Design - v0.9 - \url{purl.org/censi/MTCD}}%
%   \def\@evenfoot{}%
% }


\usepackage{eso-pic}


% NOTE: changed below
\newcommand{\firstpage}{
\AddToShipoutPictureBG*{%
  \AtPageUpperLeft{%
    \setlength\unitlength{1in}%
    \hspace*{\dimexpr0.5\paperwidth\relax}%%  change \dimexpr0.5\paperwidth\relax appropriately
    \makebox(0,-0.75)[r]{This version: Sep 2016 - Last version at: \url{http://tiny.cc/co-design}}%
}}%
}

\renewcommand{\firstpage}{}

\usepackage{placeins}%\FloatBarrier


\input{commons/tex/macros/colorize_mcdp_commands.tex}
\usepackage{stmaryrd}

\usepackage{bbm} % BB 1
\usepackage{adjustbox}


\newcommand{\scottcontinuous}{Scott continuous\xspace}
\newcommand{\scottcontinuity}{Scott continuity\xspace}


\renewcommand{\nonNegReals}{\mathbb{R}_+}
\newcommand{\nonNegRealsComp}{\overline{\mathbb{R}}_+}

\newcommand{\triv}{\mathsf{Triv}}

%%% Small sapces
% \newcommand{\subparagraph}{}
% \usepackage[compact]{titlesec}
% \titlespacing{\section}{0pt}{2ex}{1ex}
% \titlespacing{\subsection}{0pt}{1ex}{0ex}
% \titlespacing{\subsubsection}{0pt}{0.5ex}{0ex}

% \usepackage{breqn} % didn't work
